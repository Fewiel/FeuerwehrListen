@namespace FeuerwehrListen.Components.Shared

<div style="position: relative; height: @Height; background-color: #1a1a1a; border: 1px solid #444; border-radius: 4px; overflow: hidden; min-width: 80px; display: block;">
    <div style="position: absolute; top: 0; left: 0; bottom: 0; right: auto; width: @(Math.Min(Value, 100).ToString("F2", System.Globalization.CultureInfo.InvariantCulture))%; background-color: @Color; display: block; transition: width 0.3s;"></div>
    @if (ShowLabel)
    {
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-weight: bold; font-size: @FontSize; pointer-events: none; z-index: 1; text-shadow: 0 0 3px rgba(0,0,0,0.8); white-space: nowrap;">
            @if (!string.IsNullOrEmpty(CustomLabel))
            {
                @CustomLabel
            }
            else
            {
                <text>@Value.ToString("F1")%</text>
            }
        </div>
    }
</div>

@code {
    [Parameter]
    public double Value { get; set; }

    [Parameter]
    public string Color { get; set; } = "#0d6efd";

    [Parameter]
    public string Height { get; set; } = "20px";

    [Parameter]
    public bool ShowLabel { get; set; } = true;

    [Parameter]
    public string? CustomLabel { get; set; }

    [Parameter]
    public string FontSize { get; set; } = "12px";
}

